
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Service Request Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
  <style>
    body {
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      height: 100vh;
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .app-wrapper {
      background-color: #ffffffee;
      backdrop-filter: blur(6px);
      border-radius: 20px;
      width: 95%;
      max-width: 950px;
      padding: 2rem;
      box-shadow: 0 10px 32px rgba(0, 0, 0, 0.25);
      animation: fadeIn 0.6s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px);}
      to { opacity: 1; transform: translateY(0);}
    }
    h2, h4 { color: #0077cc; }
    .form-control, select, textarea { border-radius: .6rem; }
    .request-box {
      background: #f4f8ff;
      border: 1px solid #a9ccff;
      border-radius: 18px;
      padding: 1rem;
      margin-bottom: 1.2rem;
    }
    .btn-submit {
      background-color: #0077cc;
      color: #fff;
      font-size: 1.1rem;
      border-radius: .6rem;
      transition: .3s;
    }
    .btn-submit:hover {
      background-color: #005fa3;
      transform: scale(1.05);
    }
    .btn-delete {
      background: #ff4e4e;
      color: #fff;
      border-radius: .5rem;
    }
    .response-section {
      background: #e7fbe7;
      border-left: 4px solid #28a745;
      padding: .75rem;
      margin-top: .5rem;
      border-radius: .5rem;
    }
    table {
      background: #ffffffb0;
      border-radius: 10px;
      overflow: hidden;
    }
  </style>
</head>

<body>

  <audio id="greetingSound">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3" type="audio/mp3">
  </audio>

  <div class="app-wrapper">

    <h2 class="text-center mb-4">Service Request Portal</h2>

    <!-- Service Request Form -->
    <form id="request-form" class="mb-4">
      <input name="name" class="form-control mb-2" placeholder="Full Name" required />
      <input name="email" type="email" class="form-control mb-2" placeholder="Email Address" required />
      <input name="phone" type="tel" class="form-control mb-2" placeholder="Contact Number" required />

      <!-- Service Dropdown -->
      <select name="service" class="form-control mb-2" required>
        <option value="">-- Select Service --</option>
        <option>Printer Repair</option>
        <option>Software Installation</option>
        <option>Network Troubleshooting</option>
        <option>Website Design</option>
        <option>Computer Setup</option>
        <option>Data Backup & Recovery</option>
      </select>

      <textarea name="description" class="form-control mb-3" placeholder="Describe your issue" required></textarea>
      <button type="submit" class="btn btn-submit w-100">Submit Request</button>
    </form>

    <!-- User Registration Table -->
    <h4>User Registration List</h4>
    <table class="table table-bordered table-striped mb-4" id="user-table">
      <thead class="table-primary">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Service</th>
          <th>Phone</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <hr />
    <h4 class="mb-3">Submitted Requests</h4>
    <div id="request-list"></div>

  </div>

<script>
  const form = document.getElementById("request-form");
  const table = document.querySelector("#user-table tbody");
  const list = document.getElementById("request-list");
  const greetingSound = document.getElementById("greetingSound");
  let idCounter = 1;

  form.addEventListener("submit", function(e) {
    e.preventDefault();
    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const phone = form.phone.value.trim();
    const service = form.service.value;
    const description = form.description.value.trim();
    if (!name || !email || !phone || !service || !description) return;

    // Add to Request Cards
    const box = document.createElement("div");
    box.className = "request-box";
    box.dataset.id = idCounter;
    box.innerHTML = requestHTML(idCounter, name, email, phone, service, description);
    list.appendChild(box);

    // Add to Table
    const row = document.createElement("tr");
    row.innerHTML = `<td>${idCounter}</td><td>${name}</td><td>${service}</td><td>${phone}</td>`;
    table.appendChild(row);

    idCounter++;
    greetingSound.play();
    form.reset();
  });

  function requestHTML(id, name, email, phone, service, description) {
    return `
      <strong>${name}</strong> (${email})<br>
      Service: <strong>${service}</strong><br>
      Phone: ${phone}<br>
      <p>${description}</p>
      <label>Status:</label>
      <select class="form-select form-select-sm w-auto d-inline-block mb-2"
              onchange="console.log('Status:', this.value)">
        <option>Pending</option>
        <option>In Progress</option>
        <option>Resolved</option>
      </select>
      <button class="btn btn-sm btn-delete float-end" onclick="this.parentElement.remove()">Delete</button>
    `;
  }
</script>

</body>
</html>
